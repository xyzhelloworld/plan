一、基本信息定义：
1.bug分类：
cms
财务
支付
...（由管理人员自行添加）

2.bug严重性：
一般
严重
很严重
崩溃
宕机

3.bug优先级
低
中
高
加急
特急

4.用户分级权限：
4.1项目总监
发布bug任务，指派人员
审核用户信息，赋予用户职称
删除用户信息

4.2部门经理
接受任务，指派人员
提交bug解决方案

4.3开发人员
提交bug解决方案

用户信息录入：
1.系统内置一个超级管理员账号
2.超级管理员可以添加普通管理员
3.普通管理员可以审核用户注册信息，并赋予用户职称

二、数据库设计
0、项目信息表（第二版加入）
项目ID，项目名称，项目经理工号，项目开始时间，项目结束时间

1、bug定义：
bug编号，bug名称，bug描述（集成编辑器），bug分类，bug严重性，bug优先级，bug重现步骤，bug状态
主键：bug编号

2、用户信息
工号，姓名，密码，部门ID，级别
主键：工号

2、待审核用户信息
工号，姓名，密码，部门ID
主键：工号

3.部门信息：
部门ID，部门名称，部门经理工号
主键：部门ID
外键：部门经理工号

4、bug修改记录（包括状态转换）
bug编号，修改人工号，修改描述，修改时间
主键：主键自增长
外键：bug编号

5.bug指派：
指派人工号，bug编号，接收人工号（多人），指派时间
主键：主键自增长
外键：指派人工号，bug编号，接收人工号


三、表现层页面
3.0 bug详情页（非超级管理员可见）
  列举bug详情，回复框，bug状态选择
  
3.1 主页面(登陆后才可以查看主页面)
  新bug显示区，已处理bug显示区登录入口，超期未接受bug显示区，延期bug显示区，注册入口，管理员登录入口（可选）

3.2 普通用户登录页面及管理员登录页面
  用户名文本框，密码文本框，登录按钮，重置按钮

3.3 普通用户注册页面
  工号文本框，部门ID，姓名文本框，密码文本框，密码确认文本框，注册按钮，重置按钮

3.4 超级管理员后台管理（项目经理）
  1)主视图：
    新bug显示区，已处理bug显示区登录入口，超期未接受bug显示区，延期bug显示区，bug信息删除，修改
	导航栏：主视图，新增bug，人员（普通管理员）管理，个人资料，bug统计，退出
  2)bug生成页面：
    基本bug信息...
  3)普通管理员管理页面:
    普通管理员列表显示区，添加、删除、修改按钮，退出按钮
  4)个人资料页面:
    查看、更新个人信息
  5)bug统计页面（包含bug历史记录）：
    bug统计数据可视化

3.5 普通管理员后台管理（部门经理）
  1)主视图：
    新bug显示区，本部门bug显示区。
	导航栏：主视图，用户管理，个人信息，本部门bug统计，退出
  2)普通用户管理页面
    新用户注册信息显示区，审核通过按钮，审核未通过按钮
    普通用户列表显示区，添加、删除、修改按钮
  3)个人资料页面:
    查看、更新个人信息
  4)本部门bug统计页面（包含bug历史记录）：
    本部门bug统计数据可视化

3.6 普通用户个人页面
  1)主视图：
    新bug显示区，个人处理中bug显示区，个人延期bug显示区
	导航栏：主视图，个人信息，个人bug统计，退出
  2)个人资料页面:
    查看、更新个人信息
  3)个人bug统计页面（包含bug历史记录）：
    个人bug统计数据可视化

三、业务逻辑
3.1 登录
  1) 服务端验证用户名和密码是否合理（防止sql注入）
  2) 服务端验证用户名和密码是否正确
  3) 正确：跳转到主页面
  4) 错误：返回错误信息到登录界面（用户可能处于审核阶段）

3.2 注册
  1) 服务端验证用户名和密码是否合理（防止sql注入）
  2) 验证成功：将用户信息写入待审核数据库中，等待管理员审核。同时跳转到主页面
  3) 验证失败：返回错误信息至注册页面

3.3 超级管理员后台管理（项目经理）
  1)主视图：管理员可在主视图作废，修改未解决bug。可以点击bug记录进入bug编辑页
  2)新增bug：填写bug信息，并将bug向指定部门或个人指派，默认向所有部门指派
  3)人员（普通管理员）管理：添加、修改、删除普通管理员。添加、修改、删除部门信息
  4)个人资料：修改密码
  5)bug统计：查看季度bug统计信息（包含各部门bug统计信息）

3.4 普通管理员后台管理（部门经理）
  1)主视图：普通管理员可以在本页接受（手动接受表示已认可该bug归属本部门）属于本部门的bug和指派属于本部门的bug给本部门开发人员。可以点击bug记录进入bug详情页
  2)用户管理：审核，修改，删除本部门人员账号信息
  3)个人信息：修改账号密码
  4)bug统计：查看季度bug统计信息（包含各部门bug统计信息）

3.5 普通用户后台（开发人员）：
  1) 主视图：普通用户可在本页接受bug任务，可以点击bug记录进入bug详情页
  2) 个人信息：修改账号密码
  3) bug统计：查看季度bug统计信息（包含各部门bug统计信息）
  
注意事项:
验证用户输入
验证用户访问权限（通过会话ID判断是否登录）

SSH整合：
structs模型类：
User，Bug，BugModifyHistory(status，comment)
hibernate实体类：
同上

structs 业务逻辑层:
接口：
UserService
    verifyUser
BugService
    verifyBug
	
可用静态工厂封装这些service
Map<String, Object> serviceMap = new HashMap<String, Object>();
serviceMap.put("userService", new UserServiceImpl());

实现类：
UserServiceImpl
BugServiceImpl

Hibernate 数据访问层：

DAOSupport
{
    HibernateTemplate htemplate;
	
	DAOSupport(HibernateTemplate htemplate)
	{
	    this.htemplate = htemplate;
	}
}

接口：
UserDAO
    get
    save
	update

BugDAO
    get
    save
    update

实现类(继承DAOSupport)：
    UserDAOImpl
    BugDAOImpl

UserDAOImpl extends DAOSupport implements UserDAO